# 前提条件
- 回答は日本語で作成してください。
- 思考は英語で行うようにしてください。
- 変更を加える前に、まず変更計画を提案してください。
- プロジェクトの構造を確認する際は、SerenaMCPを使用してください。

# アプリの概要
日常のふとした「メモ」を蓄積し、LLM (Google Gemini) を利用して、登録されたラジオ番組の最適な「コーナー」へ振り分け、メール投稿を管理するWebアプリケーション。
## 主な機能
- **メモ管理:** 日々のネタを記録。
- **番組・コーナー管理:** ラジオ番組、コーナー、パーソナリティ、投稿用プロフィール（署名）の管理。
  - 番組をパーソナリティの名前で絞り込める
  - 番組を番組名の部分一致で絞り込める
- **LLM解析:** メモの内容とコーナー説明（LLM用コンテキスト）を比較し、投稿推奨コーナーを提案。
- **メール作成:** 提案に基づきメール下書きを作成。
- **送信連携:** アプリから直接送信せず、OS標準メーラーを起動（`mailto`連携など）して送信。
- **ステータス管理:** 下書き、送信済み、採用、不採用のステータス管理。

# 技術スタック
言語は **Python** に統一する。

- **Frontend:** Streamlit
- **Backend:** FastAPI
- **Database:** SQLite
- **ORM:** SQLAlchemy (v2.0記法)
- **Schema:** Pydantic
- **LLM:** Google Generative AI SDK (`google-generativeai`)
- **HTTP Client:** requests (Frontend -> Backend通信用)

# コーディング規則
- 型ヒントを利用する
- PEPに従う